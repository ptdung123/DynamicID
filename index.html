<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>DynamicID - MapReduce Pipeline Demo</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 1000px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; border-bottom: 2px solid #2c3e50; padding-bottom: 20px; }
        .step { background: #f9f9f9; border-left: 5px solid #3498db; margin: 20px 0; padding: 15px; border-radius: 5px; }
        h2 { color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        code { background: #eee; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        .image-placeholder { background: #ddd; border: 1px dashed #666; height: 200px; display: flex; align-items: center; justify-content: center; margin: 10px 0; }
        .code-block { background: #272822; color: #f8f8f2; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 14px; }
    </style>
</head>
<body>

<div class="header">
    <h1>BÁO CÁO KỸ THUẬT: PIPELINE DYNAMICID (MAPREDUCE STYLE)</h1>
    <p><strong>Đề tài:</strong> Cá nhân hóa hình ảnh đa nhân vật trên dữ liệu lớn</p>
    <p><strong>Thực hiện:</strong> ptdung123</p>
</div>

<div class="step">
    <h2>PHẦN I. CHUẨN BỊ DỮ LIỆU (INPUT DATA)</h2>
    <p>Tương ứng bước nén <code>.tar</code> và đẩy lên HDFS. Ở đây là tập hợp ảnh khuôn mặt định dạng <code>.png</code>.</p>
    <ul>
        <li>Dữ liệu đầu vào: Thư mục <code>assets/input_faces/</code></li>
        <li>Số lượng: 10,000+ ảnh từ tập dữ liệu VariFace-10k.</li>
    </ul>
    <img src="assets/dataset_screenshot.png" alt="Input Data" style="width:100%; max-width:600px;">
</div>

<div class="step">
    <h2>PHẦN II. GIAI ĐOẠN MAPPER (SAA ATTENTION)</h2>
    <p>File xử lý: <code>attention.py</code>. Mapper thực hiện trích lọc đặc trưng nhận dạng (ID) từ dữ liệu thô.</p>
    <div class="code-block">
        <pre>
# Mapper logic in attention.py
class SAAProcessor(nn.Module):
    def forward(self, query, key, value):
        # Trích lọc đặc trưng ngữ nghĩa khuôn mặt
        activation = self.gating(query)
        return query + activation * (key - query)
        </pre>
    </div>
</div>

<div class="step">
    <h2>PHẦN III. GIAI ĐOẠN REDUCER (IMR RECONFIGURATOR)</h2>
    <p>File xử lý: <code>model.py</code>. Reducer thực hiện tháo gỡ biểu cảm và tổng hợp lại hình ảnh cuối cùng.</p>
    <p>Nhiệm vụ: Kết hợp vector nhận dạng (từ Mapper) với Prompt điều khiển để sinh ra ảnh mới.</p>
</div>

<div class="step">
    <h2>PHẦN IV. KẾT QUẢ ĐẦU RA (OUTPUT - PART-00000)</h2>
    <p>Kết quả đối sánh mẫu giữa ảnh gốc và ảnh đã qua xử lý bởi hệ thống DynamicID.</p>
    <img src="assets/output_gallery.png" alt="Output Result" style="width:100%; border:1px solid #ccc;">
</div>

<div class="header">
    <p><em>Hệ thống vận hành trực tuyến trên GitHub Pages</em></p>
</div>

</body>
</html>